species <- read.csv("data/species.csv", stringsAsFactors=FALSE)
surveys <- read.csv("data/surveys.csv", stringsAsFactors=FALSE)
gen <- "Chaetodipus"
sp <- "penicillatus"
sp_row <- subset(species, genus==gen & species==sp)
survey_cha_pen <- subset(surveys, species_id==sp_row$species_id)
str(survey_cha_pen)
hist(survey_cha_pen$month, breaks=1:12)
hist(surveys$month, breaks=1:12)
library("ridigbio")
query <- list("scientificname"=paste(gen, sp))
library("jsonlite")
toJSON(query)
cha_pen_idig <- idig_search_records(rq=query)
str(cha_pen_idig)
cha_pen_idig_months <- format(
as.Date(cha_pen_idig$datecollected),
"%m")
cha_pen_idig <- cbind(cha_pen_idig, "monthcollected"=cha_pen_idig_months)
hist(as.numeric(cha_pen_idig$monthcollected), breaks=1:12)
hist(survey_cha_pen$month, breaks=1:12)
library("rnoaa")
tok <- "tlnrvjzLToJojhXEsUYzeGNmUEUHurYk"
stn <- "GHCND:USC00026716"
ncdc_datasets("stationid"=stn,"token"=tok)
ds_name <- "GHCNDMS"
weather <- ncdc(datasetid=ds_name, stationid=stn, startdate='2014-01-01',
enddate='2014-12-01', limit=300, token=tok)
head(weather)
mean_temp <- subset(weather$data, weather$data$datatype=="MNTM")
mean_temp$degf <- mean_temp$value/10*9/5 + 32
c_to_f <- function (c){
c*9/5 + 32
}
mean_temp$degf_fun <- c_to_f(mean_temp$value/10)
head(mean_temp)
plot(mean_temp$degf, type="n")
lines(mean_temp$degf, type="s")
lines(mean_temp$degf, type="h")
par(mfrow(c(1)))
par(mfrow=c(1))
par(mfrow=c(2,1))
hist(survey_cha_pen$month, breaks=1:12)
hist(survey_cha_pen$month, breaks=1:12)
par(mfrow=c(2,1))
hist(survey_cha_pen$month, breaks=1:12)
par(mfrow=c(1,2))
hist(survey_cha_pen$month, breaks=1:12)
plot(mean_temp$degf, type="n")
lines(mean_temp$degf, type="s")
lines(mean_temp$degf, type="h")
par(mfrow=c(2,1))
hist(survey_cha_pen$month, breaks=1:12)
plot(mean_temp$degf, type="n")
lines(mean_temp$degf, type="s")
lines(mean_temp$degf, type="h")
library(ggplot2)
library(grid)
library(gridExtra)
mice <- ggplot(survey_cha_pen, aes(survey_cha_pen$month)) +
geom_histogram(fill=NA, color="black", binwidth=1) + theme_bw()
mice
set_credentials_file("mcollins", "z6exuvbe68")
library("plotly")
set_credentials_file("mcollins", "z6exuvbe68")
library(ggplot2)
library(grid)
library(gridExtra)
mice <- ggplot(survey_cha_pen, aes(survey_cha_pen$month)) +
geom_histogram(fill=NA, color="black", binwidth=1) + theme_bw()
py <- plotly()
resp <- py$ggplotly(mice)
resp$response$url
